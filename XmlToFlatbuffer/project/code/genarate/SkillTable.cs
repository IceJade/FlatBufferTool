// <auto-generated>
//  automatically generated by table tool, do not modify
// </auto-generated>
using System.IO;
using FlatBuffers;
using LF.Table;
using System.Collections.Generic;

namespace LF
{
    #region Table

	public sealed class SkillTable : BaseTable
    {
        private Table_skill table = default(Table_skill);

        private Dictionary<int, SkillDataRow> data_row = new Dictionary<int, SkillDataRow>(128);
        
        public static string g_TableFileName = "skill";

        #region Data Method

        public override bool GetBoolValue(int id, string column, bool defaultValue = false)
        {
            bool result = defaultValue;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetBoolValue => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override short GetShortValue(int id, string column, short defaultValue = 0)
        {
            short result = defaultValue;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetShortValue => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override int GetIntValue(int id, string column, int defaultValue = 0)
        {
            int result = defaultValue;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "id": { result = datarow.Id; break; }
                case "level": { result = datarow.Level; break; }
                case "type_area": { result = datarow.TypeArea; break; }
                case "object_num": { result = datarow.ObjectNum; break; }
                case "type": { result = datarow.Type; break; }
                case "type_para": { result = datarow.TypePara; break; }
                case "show_type": { result = datarow.ShowType; break; }
                case "des": { result = datarow.Des; break; }
                case "object": { result = datarow.ObjectAlies; break; }
                case "times": { result = datarow.Times; break; }
                case "condition": { result = datarow.Condition; break; }
                case "effect_type": { result = datarow.EffectType; break; }
                case "ShortDes": { result = datarow.ShortDes; break; }
                case "activate_type": { result = datarow.ActivateType; break; }

                default: { GameFramework.Log.Error("Table_skill.GetIntValue => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override float GetFloatValue(int id, string column, float defaultValue = 0.0f)
        {
            float result = defaultValue;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "id": { result = datarow.Id; break; }
                case "level": { result = datarow.Level; break; }
                case "type_area": { result = datarow.TypeArea; break; }
                case "object_num": { result = datarow.ObjectNum; break; }
                case "type": { result = datarow.Type; break; }
                case "type_para": { result = datarow.TypePara; break; }
                case "show_type": { result = datarow.ShowType; break; }
                case "des": { result = datarow.Des; break; }
                case "object": { result = datarow.ObjectAlies; break; }
                case "times": { result = datarow.Times; break; }
                case "condition": { result = datarow.Condition; break; }
                case "effect_type": { result = datarow.EffectType; break; }
                case "ShortDes": { result = datarow.ShortDes; break; }
                case "activate_type": { result = datarow.ActivateType; break; }

                default: { GameFramework.Log.Error("Table_skill.GetFloatValue => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }

        public override string GetStringValue(int id, string column, string defaultValue = "")
        {
            string result = defaultValue;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "id": { result = datarow.Id.ToString(); break; }
                case "level": { result = datarow.Level.ToString(); break; }
                case "type_area": { result = datarow.TypeArea.ToString(); break; }
                case "object_num": { result = datarow.ObjectNum.ToString(); break; }
                case "type": { result = datarow.Type.ToString(); break; }
                case "type_para": { result = datarow.TypePara.ToString(); break; }
                case "show_type": { result = datarow.ShowType.ToString(); break; }
                case "name": { result = datarow.Name; break; }
                case "des": { result = datarow.Des.ToString(); break; }
                case "icon": { result = datarow.Icon; break; }
                case "object": { result = datarow.ObjectAlies.ToString(); break; }
                case "times": { result = datarow.Times.ToString(); break; }
                case "condition": { result = datarow.Condition.ToString(); break; }
                case "effect_type": { result = datarow.EffectType.ToString(); break; }
                case "ShortDes": { result = datarow.ShortDes.ToString(); break; }
                case "activate_type": { result = datarow.ActivateType.ToString(); break; }

                default: { GameFramework.Log.Error("Table_skill.GetStringValue => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override bool[] GetBoolArray(int id, string column)
        {
            bool[] result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetBoolArray => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override short[] GetShortArray(int id, string column)
        {
            short[] result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetShortArray => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override int[] GetIntArray(int id, string column)
        {
            int[] result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "cd_time": { result = datarow.CdTimeArray; break; }
                case "hide_effect": { result = datarow.HideEffectArray; break; }

                default: { GameFramework.Log.Error("Table_skill.GetIntArray => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override float[] GetFloatArray(int id, string column)
        {
            float[] result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;
                
            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetFloatArray => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }

        public override string[] GetStringArray(int id, string column)
        {
            string[] result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "effect": { result = datarow.EffectArray; break; }
                case "effect_num": { result = datarow.EffectNumArray; break; }

                default: { GameFramework.Log.Error("Table_skill.GetStringArray => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override string GetStringArrayItem(int id, string column, int index, string defaultValue = "")
        {
            string result = defaultValue;

            int length = this.GetStringArrayLength(id, column);
            if (index < 0 || index >= length)
            {
                GameFramework.Log.Error("Table_skill.GetStringArrayItem => index out of array length({0}), [id:{1}, column:{2}, index:{3}]", length, id, column, index);
                return result;
            }
            
            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "effect": { result = datarow.EffectArray[index]; break; }
                case "effect_num": { result = datarow.EffectNumArray[index]; break; }

                default: { GameFramework.Log.Error("Table_skill.GetStringArrayItem => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override int GetStringArrayLength(int id, string column)
        {
            int result = 0;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {
                case "effect": { result = datarow.EffectArrayLength; break; }
                case "effect_num": { result = datarow.EffectNumArrayLength; break; }

                default: { GameFramework.Log.Error("Table_skill.GetStringArrayLength => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }
        
        public override Dictionary<int, int> GetDictionaryII(int id, string column) 
        {
            Dictionary<int, int> result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetDictionaryII => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }

        public override Dictionary<int, string> GetDictionaryIS(int id, string column) 
        {
            Dictionary<int, string> result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetDictionaryIS => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }

        public override Dictionary<string, int> GetDictionarySI(int id, string column) 
        {
            Dictionary<string, int> result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetDictionarySI => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }

        public override Dictionary<string, string> GetDictionarySS(int id, string column) 
        {
            Dictionary<string, string> result = null;

            var datarow = this.GetDataRow(id);
            if (null == datarow)
                return result;

            switch (column)
            {

                default: { GameFramework.Log.Error("Table_skill.GetDictionarySS => data type is not match, or not find [id:{0}, column:{1}]", id, column); break; }
            }

            return result;
        }

        #endregion Data Method

        #region DataRow Method
        
        /// <summary>
        /// 获得数据行的数量
        /// </summary>
        /// <returns></returns>
        public override int GetDataCount() 
        {
            Table_skill table = this.GetTable();
            if (null == table.ByteBuffer)
                return 0;

            return table.DataLength; 
        }
        
        /// <summary>
        /// 获得行数据
        /// </summary>
        /// <param name="id">字段ID的值</param>
        /// <returns>行数据</returns>
        public SkillDataRow GetDataRow(int id)
        {
            if (data_row.ContainsKey(id))
                return data_row[id];

            Table_skill table = this.GetTable();
            if (null == table.ByteBuffer)
                return null;
                
            if (data_row.Count >= table.DataLength)
                return null;
            
            if (null != row_index && row_index.ContainsKey(id))
            {
                DRskill? data = table.Data(row_index[id]);
                if (data.HasValue && data.Value.Id == id)
                {
                    SkillDataRow datarow = new SkillDataRow(data.Value, row_index[id]);
                    if(!data_row.ContainsKey(datarow.Id))
                        data_row.Add(datarow.Id, datarow);

                    return datarow;
                }
            }

            if (current_row_index >= table.DataLength)
                return null;

            int start = current_row_index;
            for (int i = start; i < table.DataLength; i++)
            {
                DRskill? data = table.Data(i);
                if (data.HasValue)
                {
                    SkillDataRow datarow = new SkillDataRow(data.Value, i);
                    if(!data_row.ContainsKey(datarow.Id))
                        data_row.Add(datarow.Id, datarow);

                    current_row_index = i;
                    
                    if (datarow.Id == id)
                        return datarow;
                }
            }

            return null;
        }

        /// <summary>
        /// 通过索引获取行数据
        /// </summary>
        /// <param name="index">索引,即行号,从0开始</param>
        /// <returns></returns>
        public SkillDataRow GetDataRowByIndex(int index)
        {
            Table_skill table = this.GetTable();
            if (null == table.ByteBuffer)
                return null;

            if (index < 0 || index >= table.DataLength)
                return null;

            DRskill? data = table.Data(index);
            if (data.HasValue)
            {
                if (!data_row.ContainsKey(data.Value.Id))
                {
                    SkillDataRow datarow = new SkillDataRow(data.Value, index);
                    data_row.Add(datarow.Id, datarow);
                }

                return data_row[data.Value.Id];
            }

            return null;
        }
        
        /// <summary>
        /// 获得所有行数据
        /// </summary>
        /// <returns>所有行数据</returns>
        public Dictionary<int, SkillDataRow> GetAllData()
        {
            Table_skill table = this.GetTable();
            if (null == table.ByteBuffer)
                return null;
                
            int dataCount = table.DataLength;
            if (data_row.Count < dataCount)
            {
                for (int i = 0; i < table.DataLength; i++)
                {
                    DRskill? data = table.Data(i);
                    if (data.HasValue && !data_row.ContainsKey(data.Value.Id))
                    {
                        SkillDataRow datarow = new SkillDataRow(data.Value, i);
                        data_row.Add(data.Value.Id, datarow);
                    }
                }
            }

            return data_row;
        }
        
        /// <summary>
        /// 按行遍历表格
        /// </summary>
        /// <param name="callback"></param>
        public override void VisitTable(System.Func<BaseDataRow, bool> callback)
        {
            if (null == callback)
                return;

            this.GetAllData();

            var iterator = data_row.GetEnumerator();
            try
            {
                bool _stop = false;
                while (iterator.MoveNext() && _stop == false)
                {
                    _stop = callback(iterator.Current.Value);
                }
            }
            finally
            {
                iterator.Dispose();
            }
        }
        
        public override BaseDataRow GetTableRow(int id) 
        { 
            return this.GetDataRow(id); 
        }

        public override BaseDataRow GetTableRow(string id)
        {
            int rowId = 0;
            if(int.TryParse(id, out rowId))
                return this.GetDataRow(rowId);

            return null;
        }

        public override BaseDataRow GetTableRowByIndex(int index)
        {
            return this.GetDataRowByIndex(index);
        }

        #endregion DataRow Method
        
        #region Framework Method

        protected override void InitTable(ByteBuffer byteBuffer)
        {
            table = Table_skill.GetRootAsTable_skill(byteBuffer);
            
            this.load_state = E_LoadState.Loaded;
        }

        public override void ResetTable()
        {
            base.ResetTable();

            this.data_row.Clear();
        }
        
        private Table_skill GetTable()
        {
            LoadTable();

            return table;
        }
        
        protected override string GetTableFileName()
        {
            return g_TableFileName;
        }

        protected override string GetDataFileName()
        {
            return "skill.bytes";
        }

        protected override string GetIndexFileName()
        {
            return "skill_ids";
        }
        
        #endregion Framework Method
    }

    #endregion Table

    #region DataRow

    public class SkillBaseDataRow : BaseDataRow
    {
        protected DRskill _datarow;

        public SkillBaseDataRow(DRskill datarow, int index) : base(index)
        {
            this._datarow = datarow;
        }
        
        public override CSLuaTable GetLuaTable()
        {
            base.GetLuaTable();

            if (_LuaDataRow.Length <= 0)
            {
                if(this.HasKey("id")) _LuaDataRow.Set("id", this.Id);
                if(this.HasKey("level")) _LuaDataRow.Set("level", this.Level);
                if(this.HasKey("type_area")) _LuaDataRow.Set("type_area", this.TypeArea);
                if(this.HasKey("object_num")) _LuaDataRow.Set("object_num", this.ObjectNum);
                if(this.HasKey("effect")) _LuaDataRow.Set("effect", this.EffectArray);
                if(this.HasKey("effect_num")) _LuaDataRow.Set("effect_num", this.EffectNumArray);
                if(this.HasKey("type")) _LuaDataRow.Set("type", this.Type);
                if(this.HasKey("type_para")) _LuaDataRow.Set("type_para", this.TypePara);
                if(this.HasKey("show_type")) _LuaDataRow.Set("show_type", this.ShowType);
                if(this.HasKey("name")) _LuaDataRow.Set("name", this.Name);
                if(this.HasKey("des")) _LuaDataRow.Set("des", this.Des);
                if(this.HasKey("icon")) _LuaDataRow.Set("icon", this.Icon);
                if(this.HasKey("object")) _LuaDataRow.Set("object", this.ObjectAlies);
                if(this.HasKey("times")) _LuaDataRow.Set("times", this.Times);
                if(this.HasKey("condition")) _LuaDataRow.Set("condition", this.Condition);
                if(this.HasKey("effect_type")) _LuaDataRow.Set("effect_type", this.EffectType);
                if(this.HasKey("cd_time")) _LuaDataRow.Set("cd_time", this.CdTimeArray);
                if(this.HasKey("ShortDes")) _LuaDataRow.Set("ShortDes", this.ShortDes);
                if(this.HasKey("activate_type")) _LuaDataRow.Set("activate_type", this.ActivateType);
                if(this.HasKey("hide_effect")) _LuaDataRow.Set("hide_effect", this.HideEffectArray);

            }

            return _LuaDataRow;
        }

        protected override LuaValue GetLuaValue(string rowId)
        {
            LuaValue luaValue = new LuaValue();
            switch (rowId)
            {
                case "id": { luaValue.SetValue(this.Id); break; }
                case "level": { luaValue.SetValue(this.Level); break; }
                case "type_area": { luaValue.SetValue(this.TypeArea); break; }
                case "object_num": { luaValue.SetValue(this.ObjectNum); break; }
                case "effect": { luaValue.SetValue(this.EffectArray); break; }
                case "effect_num": { luaValue.SetValue(this.EffectNumArray); break; }
                case "type": { luaValue.SetValue(this.Type); break; }
                case "type_para": { luaValue.SetValue(this.TypePara); break; }
                case "show_type": { luaValue.SetValue(this.ShowType); break; }
                case "name": { luaValue.SetValue(this.Name); break; }
                case "des": { luaValue.SetValue(this.Des); break; }
                case "icon": { luaValue.SetValue(this.Icon); break; }
                case "object": { luaValue.SetValue(this.ObjectAlies); break; }
                case "times": { luaValue.SetValue(this.Times); break; }
                case "condition": { luaValue.SetValue(this.Condition); break; }
                case "effect_type": { luaValue.SetValue(this.EffectType); break; }
                case "cd_time": { luaValue.SetValue(this.CdTimeArray); break; }
                case "ShortDes": { luaValue.SetValue(this.ShortDes); break; }
                case "activate_type": { luaValue.SetValue(this.ActivateType); break; }
                case "hide_effect": { luaValue.SetValue(this.HideEffectArray); break; }

                default:
                    break;
            }

            return luaValue;
        }
        
        public override bool HasKey(string column)
        {
            bool result = false;

            switch (column)
            {
                case "id": { result = !this.IsEmpty(_datarow.Id); break; }
                case "level": { result = !this.IsEmpty(_datarow.Level); break; }
                case "type_area": { result = !this.IsEmpty(_datarow.TypeArea); break; }
                case "object_num": { result = !this.IsEmpty(_datarow.ObjectNum); break; }
                case "effect": { result = _datarow.EffectLength > 0; break; }
                case "effect_num": { result = _datarow.EffectNumLength > 0; break; }
                case "type": { result = !this.IsEmpty(_datarow.Type); break; }
                case "type_para": { result = !this.IsEmpty(_datarow.TypePara); break; }
                case "show_type": { result = !this.IsEmpty(_datarow.ShowType); break; }
                case "name": { result = !this.IsEmpty(this.Name); break; }
                case "des": { result = !this.IsEmpty(_datarow.Des); break; }
                case "icon": { result = !this.IsEmpty(this.Icon); break; }
                case "object": { result = !this.IsEmpty(_datarow.ObjectAlies); break; }
                case "times": { result = !this.IsEmpty(_datarow.Times); break; }
                case "condition": { result = !this.IsEmpty(_datarow.Condition); break; }
                case "effect_type": { result = !this.IsEmpty(_datarow.EffectType); break; }
                case "cd_time": { result = _datarow.CdTimeLength > 0; break; }
                case "ShortDes": { result = !this.IsEmpty(_datarow.ShortDes); break; }
                case "activate_type": { result = !this.IsEmpty(_datarow.ActivateType); break; }
                case "hide_effect": { result = _datarow.HideEffectLength > 0; break; }

                default:
                    break;
            }

            return result;
        }
        
        public int Id { get { return this.GetTableInt(_datarow.Id); } }

        public int Level { get { return this.GetTableInt(_datarow.Level); } }

        public int TypeArea { get { return this.GetTableInt(_datarow.TypeArea); } }

        public int ObjectNum { get { return this.GetTableInt(_datarow.ObjectNum); } }

        private string[] _EffectArray = null;
        public string[] EffectArray { get { if(null == _EffectArray) { if (_datarow.EffectLength > 0) { _EffectArray = new string[_datarow.EffectLength]; for (int i = 0; i < _datarow.EffectLength; i++) { _EffectArray[i] = _datarow.Effect(i); } } } return _EffectArray; } }
        public int EffectArrayLength { get { if (null == this.EffectArray) return 0; return this.EffectArray.Length; } }

        private string[] _EffectNumArray = null;
        public string[] EffectNumArray { get { if(null == _EffectNumArray) { if (_datarow.EffectNumLength > 0) { _EffectNumArray = new string[_datarow.EffectNumLength]; for (int i = 0; i < _datarow.EffectNumLength; i++) { _EffectNumArray[i] = _datarow.EffectNum(i); } } } return _EffectNumArray; } }
        public int EffectNumArrayLength { get { if (null == this.EffectNumArray) return 0; return this.EffectNumArray.Length; } }

        public int Type { get { return this.GetTableInt(_datarow.Type); } }

        public int TypePara { get { return this.GetTableInt(_datarow.TypePara); } }

        public int ShowType { get { return this.GetTableInt(_datarow.ShowType); } }

        private string _Name = null;
        public string Name { get { if (null == _Name) _Name = _datarow.Name; return _Name; } }

        public int Des { get { return this.GetTableInt(_datarow.Des); } }

        private string _Icon = null;
        public string Icon { get { if (null == _Icon) _Icon = _datarow.Icon; return _Icon; } }

        public int ObjectAlies { get { return this.GetTableInt(_datarow.ObjectAlies); } }

        public int Times { get { return this.GetTableInt(_datarow.Times); } }

        public int Condition { get { return this.GetTableInt(_datarow.Condition); } }

        public int EffectType { get { return this.GetTableInt(_datarow.EffectType); } }

        private int[] _CdTimeArray = null;
        public int[] CdTimeArray { get { if (null == _CdTimeArray) _CdTimeArray = _datarow.GetCdTimeArray(); return _CdTimeArray; } }
        public int CdTimeArrayLength { get { if (null == this.CdTimeArray) return 0; return this.CdTimeArray.Length; } }

        public int ShortDes { get { return this.GetTableInt(_datarow.ShortDes); } }

        public int ActivateType { get { return this.GetTableInt(_datarow.ActivateType); } }

        private int[] _HideEffectArray = null;
        public int[] HideEffectArray { get { if (null == _HideEffectArray) _HideEffectArray = _datarow.GetHideEffectArray(); return _HideEffectArray; } }
        public int HideEffectArrayLength { get { if (null == this.HideEffectArray) return 0; return this.HideEffectArray.Length; } }


    }

    #endregion DataRow
}